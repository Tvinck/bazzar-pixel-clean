# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ AI API: DefAPI vs Kie.ai

## üìä –ö—Ä–∞—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | DefAPI | Kie.ai | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|----------|--------|--------|------------|
| **–¶–µ–Ω–∞ –∑–∞ –∫—Ä–µ–¥–∏—Ç** | –ù–µ —É–∫–∞–∑–∞–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é | $0.005 | ‚ö†Ô∏è Kie.ai (–ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ) |
| **–¶–µ–Ω–∞ –∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** | ~$0.02-0.05 | $0.02-0.05 (10-50 –∫—Ä–µ–¥–∏—Ç–æ–≤) | üü∞ –†–∞–≤–Ω—ã |
| **–ú–æ–¥–µ–ª–∏** | –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä (—Ä–æ—É—Ç–∏–Ω–≥) | –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª—è–º | ‚ö†Ô∏è –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–¥–∞—á–∏ |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ—É—Ç–∏–Ω–≥–∞ | 99.9% uptime, –±—ã—Å—Ç—Ä—ã–π | ‚úÖ Kie.ai |
| **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** | –î–∞ (task polling) | –î–∞ (task ID + callback) | üü∞ –†–∞–≤–Ω—ã |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | –ë–∞–∑–æ–≤–∞—è | –ü–æ–¥—Ä–æ–±–Ω–∞—è + Playground | ‚úÖ Kie.ai |
| **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–µ—Å—Ç** | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ | –î–∞ (free credits) | ‚úÖ Kie.ai |
| **Nano Banana** | –î–∞ | –î–∞ | üü∞ –†–∞–≤–Ω—ã |
| **Midjourney** | –î–∞ | –î–∞ | üü∞ –†–∞–≤–Ω—ã |
| **Flux** | –î–∞ | –î–∞ | üü∞ –†–∞–≤–Ω—ã |
| **GPT-Image-1** | –î–∞ | –î–∞ ($0.03/call) | üü∞ –†–∞–≤–Ω—ã |

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### DefAPI (–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

**–ü–ª—é—Å—ã:**
- ‚úÖ **–£–º–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º—É—é –¥–µ—à–µ–≤—É—é –º–æ–¥–µ–ª—å
- ‚úÖ **–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä** - –æ–¥–∏–Ω API –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå **–ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** - —Å–ª–æ–∂–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
- ‚ùå **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - —Ä–æ—É—Ç–∏–Ω–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É
- ‚ùå **–¢–∞–π–º–∞—É—Ç—ã** - —á–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (ETIMEDOUT)
- ‚ùå **–ü–ª–æ—Ö–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –º–∞–ª–æ –ø—Ä–∏–º–µ—Ä–æ–≤
- ‚ùå **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - —Å—É–¥—è –ø–æ –ª–æ–≥–∞–º, —á–∞—Å—Ç–æ –ø–∞–¥–∞–µ—Ç

**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
```
‚ö†Ô∏è Polling attempt 1 failed (fetch failed), retrying...
‚ùå Error: read ETIMEDOUT
```

---

### Kie.ai (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

**–ü–ª—é—Å—ã:**
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** - $0.005 –∑–∞ –∫—Ä–µ–¥–∏—Ç
- ‚úÖ **–í—ã—Å–æ–∫–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - 99.9% uptime
- ‚úÖ **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞** - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª—è–º
- ‚úÖ **API Playground** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∫–æ–¥–∞
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã** - –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - task ID + callback URLs
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –¥–æ 20 –∑–∞–ø—Ä–æ—Å–æ–≤/10 —Å–µ–∫, 100+ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è **–ù–µ—Ç —É–º–Ω–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞** - –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–æ–¥–µ–ª—å –≤—Ä—É—á–Ω—É—é
- ‚ö†Ô∏è **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞** - –Ω–µ—Ç –∞–≤—Ç–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–æ–¥–µ–ª–∏:**
- **Nano Banana** (Google) - –±—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **Flux Kontext** - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **Midjourney** - —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å
- **GPT-Image-1** (4o) - —Ç–µ–∫—Å—Ç –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
- **Grok Imagine** - image-to-image

---

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω (–ø—Ä–∏–º–µ—Ä—ã)

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Nano Banana)

**DefAPI:**
```
–¶–µ–Ω–∞: ~$20-50 (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–æ—É—Ç–∏–Ω–≥–∞)
–í—Ä–µ–º—è: ~30-60 —Å–µ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ~70% (—á–∞—Å—Ç—ã–µ —Ç–∞–π–º–∞—É—Ç—ã)
```

**Kie.ai:**
```
–¶–µ–Ω–∞: $25-50 (10-50 –∫—Ä–µ–¥–∏—Ç–æ–≤ √ó $0.005 √ó 1000)
–í—Ä–µ–º—è: ~10-20 —Å–µ–∫ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ~99.9% (–≥–∞—Ä–∞–Ω—Ç–∏—è uptime)
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### ‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ Kie.ai**

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - DefAPI –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç —Å ETIMEDOUT
2. **–°–∫–æ—Ä–æ—Å—Ç—å** - Kie.ai –≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–Ω—è—Ç–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ª–µ–≥—á–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å
5. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞** - API Playground –¥–ª—è —Ç–µ—Å—Ç–æ–≤

**–ö–æ–≥–¥–∞ –æ—Å—Ç–∞–≤–∏—Ç—å DefAPI:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç (—É–º–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥)
- –ï—Å–ª–∏ DefAPI –∏—Å–ø—Ä–∞–≤–∏—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é

---

## üîß –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Kie.ai

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```bash
# 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ kie.ai
# 2. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á
# 3. –ü–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∞
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å .env
```bash
# –°—Ç–∞—Ä—ã–π –∫–ª—é—á
# DEFAPI_KEY=dk-f1c472b9837d8c65f11a2a2d0df77e78

# –ù–æ–≤—ã–π –∫–ª—é—á
KIE_API_KEY=kie-xxxxxxxxxxxxx
AI_PROVIDER=kie  # –∏–ª–∏ 'defapi' –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å ai-service.js
```javascript
const API_PROVIDER = getEnv('AI_PROVIDER') || 'kie';
const API_KEY = API_PROVIDER === 'kie' 
    ? getEnv('KIE_API_KEY') 
    : getEnv('DEFAPI_KEY');

const API_URL = API_PROVIDER === 'kie'
    ? 'https://api.kie.ai/v1'
    : 'https://api.defapi.com/v1';
```

### –®–∞–≥ 4: –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
```javascript
// Kie.ai –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ö–æ–∂–∏–π —Ñ–æ—Ä–º–∞—Ç
// –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
```

### –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å MOCK_AI=false
# –°—Ä–∞–≤–Ω–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
```

---

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Kie.ai:

- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å:** +200% (—Å 30-60 —Å–µ–∫ –¥–æ 10-20 —Å–µ–∫)
- üéØ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** +30% (—Å 70% –¥–æ 99.9%)
- üìä **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:** –ß–µ—Ç–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç
- üõ†Ô∏è **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (Playground)

---

## üèÅ –ò—Ç–æ–≥

**–†–µ–∫–æ–º–µ–Ω–¥—É—é Kie.ai** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é fallback –Ω–∞ DefAPI.

**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
```javascript
// –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å Kie.ai
// –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ -> fallback –Ω–∞ DefAPI
// –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
```

–≠—Ç–æ –¥–∞—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å.
