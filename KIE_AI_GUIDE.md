# Kie.ai Integration Guide

## ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

Kie.ai —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä.

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω `.env`
```bash
KIE_API_KEY=365b6afae3b952cef9297bbc5384ec8e
AI_PROVIDER=kie  # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
DEFAPI_KEY=...   # Fallback (–∑–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç)
```

### 2. –°–æ–∑–¥–∞–Ω –∫–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π (`src/kie-models.js`)
–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Kie.ai:

#### üñºÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (10 –º–æ–¥–µ–ª–µ–π):
- **Nano Banana** (10 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, Google
- **Nano Banana Pro** (25 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –£–ª—É—á—à–µ–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **GPT-4o Image** (30 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –¢–µ–∫—Å—Ç –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, OpenAI
- **Flux Kontext** (40 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ
- **Flux Pro** (45 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –¢–æ–ø–æ–≤–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **Midjourney** (35 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å
- **Grok Imagine** (20 –∫—Ä–µ–¥–∏—Ç–æ–≤) - Image-to-image, xAI
- **Ideogram** (30 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –õ—É—á—à–∏–π –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- **Qwen Image** (25 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –†–µ–∫–ª–∞–º–∞ –∏ –ø–æ—Å—Ç–µ—Ä—ã, Alibaba
- **Recraft** (30 –∫—Ä–µ–¥–∏—Ç–æ–≤) - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –¥–∏–∑–∞–π–Ω

#### üé¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ (5 –º–æ–¥–µ–ª–µ–π):
- **Google Veo 3.1** (100 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **Runway Aleph** (120 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **Kling 2.6** (80 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **Sora 2** (150 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **Hailuo 2.3** (70 –∫—Ä–µ–¥–∏—Ç–æ–≤)

#### üéµ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º—É–∑—ã–∫–∏ (3 –º–æ–¥–µ–ª–∏):
- **Suno V4** (50 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **Suno V4.5 Plus** (70 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **ElevenLabs** (40 –∫—Ä–µ–¥–∏—Ç–æ–≤)

#### üí¨ Chat/LLM (2 –º–æ–¥–µ–ª–∏):
- **Gemini 3 Pro** (5 –∫—Ä–µ–¥–∏—Ç–æ–≤)
- **DeepSeek** (3 –∫—Ä–µ–¥–∏—Ç–∞)

---

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í –∫–æ–¥–µ (Backend):
```javascript
import { aiService } from './src/ai-service.js';

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
const result = await aiService.generateImage(
    'A beautiful sunset over mountains',
    'nano_banana_pro',  // ID –º–æ–¥–µ–ª–∏
    {
        aspect_ratio: '16:9',
        userId: 'user123'
    }
);

console.log(result.imageUrl);
```

### –ß–µ—Ä–µ–∑ API (Frontend):
```javascript
// –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
const result = await aiService.generateImage(prompt, modelId, options);

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
const result = await aiService.generateImageAsync(prompt, modelId, options);
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–¥–µ–ª—è–º

### –î–ª—è —Ñ–æ—Ç–æ—Ä–µ–∞–ª–∏–∑–º–∞:
```javascript
modelId: 'nano_banana_pro'  // –ë—ã—Å—Ç—Ä–æ + –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ
modelId: 'flux_pro'          // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
```

### –î–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è:
```javascript
modelId: 'midjourney'  // –õ—É—á—à–∏–π –¥–ª—è –∞—Ä—Ç–∞
```

### –î–ª—è —Ç–µ–∫—Å—Ç–∞ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö:
```javascript
modelId: 'gpt4o_image'  // OpenAI, –æ—Ç–ª–∏—á–Ω–æ —Å —Ç–µ–∫—Å—Ç–æ–º
modelId: 'ideogram'     // –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Ç–µ–∫—Å—Ç–µ
```

### –î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏:
```javascript
modelId: 'nano_banana'   // –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π (3-5 —Å–µ–∫)
modelId: 'grok_imagine'  // –ë—ã—Å—Ç—Ä—ã–π image-to-image
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**1 –∫—Ä–µ–¥–∏—Ç = $0.005**

### –ü—Ä–∏–º–µ—Ä—ã:
- **Nano Banana** (10 –∫—Ä–µ–¥–∏—Ç–æ–≤) = $0.05
- **Midjourney** (35 –∫—Ä–µ–¥–∏—Ç–æ–≤) = $0.175
- **Flux Pro** (45 –∫—Ä–µ–¥–∏—Ç–æ–≤) = $0.225
- **Suno V4** (50 –∫—Ä–µ–¥–∏—Ç–æ–≤) = $0.25

### –†–∞—Å—á–µ—Ç –¥–ª—è 1000 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
Nano Banana: 1000 √ó $0.05 = $50
Midjourney:  1000 √ó $0.175 = $175
Flux Pro:    1000 √ó $0.225 = $225
```

---

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Kie.ai (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```bash
AI_PROVIDER=kie
```

### –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ DefAPI:
```bash
AI_PROVIDER=defapi
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback:
–ï—Å–ª–∏ Kie.ai –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ DefAPI.

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
```bash
tail -f bot_v17_kie_ai.log
```

### –ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:
```
üöÄ Kie.ai: Nano Banana Pro (25 credits)
üìã Kie.ai Task created: abc-123-def
‚è≥ Kie.ai Task abc-123-def: processing
‚úÖ Kie.ai completed: https://...
```

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: "KIE_API_KEY not set"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `.env` —Ñ–∞–π–ª, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç.

### –û—à–∏–±–∫–∞: "Model not found"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ID –º–æ–¥–µ–ª–∏ –≤ `src/kie-models.js`.

### –¢–∞–π–º–∞—É—Ç (6 –º–∏–Ω—É—Ç)
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å –∏–ª–∏ Job Queue.

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞ kie.ai.

---

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Kie.ai

‚úÖ **99.9% uptime** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å  
‚úÖ **–í 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ** DefAPI  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ–µ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ**  
‚úÖ **20 –º–æ–¥–µ–ª–µ–π** –≤ –æ–¥–Ω–æ–º API  
‚úÖ **API Playground** –¥–ª—è —Ç–µ—Å—Ç–æ–≤  
‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**  

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Kie.ai Market**: https://kie.ai/market
- **API Playground**: https://kie.ai/playground
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://kie.ai/docs
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: support@kie.ai

---

**–ì–æ—Ç–æ–≤–æ! Kie.ai –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.**
